$(function(){var e=$(window),o=$("body"),i=$("header"),t="open",s="overflow-state",l=$(".burger"),n=$(".main-nav"),a=$(".video-player"),r=$(".categories-links__item--group .categories-links__arrow-link"),p=$(".img-slider"),g=$(".img-popup"),d=$(".img-popup-gallery"),c=$(".grid"),m=($(".grid-item").width(),$(".accordion__link"));l.on("click",function(){l.toggleClass(t),n.toggleClass(t),o.toggleClass(s)}),e.width()>1024&&a.vide({mp4:"app/video/video",webm:"app/video/video",poster:"app/video/video"},{posterType:"jpg",loop:!0,muted:!0}),r.on("click",function(e){var o=$(this).next(".subcategories-links");e.preventDefault(),r.not($(this)).removeClass("is-up"),$(this).toggleClass("is-up"),$(".subcategories-links").not(o).removeClass("open"),o.toggleClass("open")}),p.slick({slide:".img-slider__slide",slidesToShow:1,slidesToScroll:1,dots:!0,autoplay:!0,autoSpeed:2e3}),g.magnificPopup({type:"image",fixedContentPos:!0,image:{verticalFit:!0},preloader:!1}),d.magnificPopup({delegate:".popup-link",type:"image",gallery:{enabled:!0,navigateByImgClick:!0}}),$(".popup-inline-link").magnificPopup({type:"inline",fixedContentPos:!0,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0}),c.masonry({itemSelector:".grid-item",columnWidth:".grid-item"}),m.on("click",function(){$(this).toggleClass("active")}),e.on("resize",function(){console.log("resize"),e.width()>767&&(l.removeClass(t),n.removeClass(t),o.removeClass(s))}),e.on("scroll",function(){console.log("scroll"),e.scrollTop()>e.height()-i.height()?i.addClass("scrolled-state"):i.removeClass("scrolled-state")}),e.on("load",function(){console.log("load");var e=document.getElementById("map"),o=Number(e.getAttribute("data-lat")),i=Number(e.getAttribute("data-lng")),t=e.getAttribute("data-address"),s={lat:o,lng:i},l=new google.maps.Map(e,{zoom:18,center:s,mapTypeControl:!1}),n=new google.maps.InfoWindow,r=new google.maps.Marker({position:s,icon:"app/icons/marker.jpg",map:l});n.setOptions({content:'<div class="info-window">'+t+"</div>",pixelOffset:new google.maps.Size(0,170)}),n.open(l,r),google.maps.event.addDomListener(window,"resize",function(){l.setCenter(s)}),setTimeout(function(){a.addClass("show")},1e3)})});